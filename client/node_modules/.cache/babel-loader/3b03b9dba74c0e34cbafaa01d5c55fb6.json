{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gal\\\\Documents\\\\GitHub\\\\fullstackOpen3-Exercises\\\\client\\\\src\\\\Phonebook.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Notification from './components/Notification';\nimport Person from './components/Person';\nimport personService from './services/persons';\n\nfunction Phonebook() {\n  const [book, setBook] = useState([]);\n  const [name, setName] = useState();\n  const [number, setNumber] = useState();\n  const [showAll, setShowAll] = useState(true);\n  const [errorMessage, setErrorMessage] = useState(null);\n  useEffect(() => {\n    personService.getAll().then(initialPersons => setBook(initialPersons)); // fetch();\n  }, []);\n\n  const addPerson = event => {\n    event.preventDefault();\n    const personObject = {\n      name: name,\n      number: number\n    };\n    personService.create(personObject).then(returnedPerson => {\n      setBook(book.concat(returnedPerson));\n      setName('');\n    });\n  };\n\n  const handleDelete = e => {\n    console.log(e);\n    personService.remove(e.target.id).then();\n    personService.getAll();\n  };\n\n  const handleSubmit = async () => {\n    const checkPerson = book.find(person => person.name === name);\n\n    if (checkPerson) {\n      await axios.put(`/api/persons/${checkPerson.id}`, {\n        name,\n        number\n      });\n    } else {\n      await axios.post('/api/persons', {\n        name,\n        number\n      });\n    }\n\n    fetch();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, \"Phone Book\"), /*#__PURE__*/React.createElement(Notification, {\n    message: errorMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, book.map(item => /*#__PURE__*/React.createElement(\"li\", {\n    key: item.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, \" \", item.id, \" \", item.name, \" \", item.number, \" \", /*#__PURE__*/React.createElement(\"button\", {\n    id: item.id,\n    onClick: () => personService.remove(item.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 66\n    }\n  }, \"delete\")))), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setName(e.target.value),\n    type: \"text\",\n    placeholder: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setNumber(e.target.value),\n    type: \"text\",\n    placeholder: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \"Submit\")));\n}\n\nexport default Phonebook;","map":{"version":3,"sources":["C:/Users/Gal/Documents/GitHub/fullstackOpen3-Exercises/client/src/Phonebook.js"],"names":["React","useEffect","useState","axios","Notification","Person","personService","Phonebook","book","setBook","name","setName","number","setNumber","showAll","setShowAll","errorMessage","setErrorMessage","getAll","then","initialPersons","addPerson","event","preventDefault","personObject","create","returnedPerson","concat","handleDelete","e","console","log","remove","target","id","handleSubmit","checkPerson","find","person","put","post","fetch","map","item","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,aAAP,MAA0B,oBAA1B;;AAGA,SAASC,SAAT,GAAqB;AACnB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACQ,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,EAAhC;AACA,QAAM,CAACU,MAAD,EAASC,SAAT,IAAsBX,QAAQ,EAApC;AACA,QAAM,CAACY,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACc,YAAD,EAAeC,eAAf,IAAkCf,QAAQ,CAAC,IAAD,CAAhD;AAGED,EAAAA,SAAS,CAAC,MAAM;AAChBK,IAAAA,aAAa,CAACY,MAAd,GAAuBC,IAAvB,CAA4BC,cAAc,IAAIX,OAAO,CAACW,cAAD,CAArD,EADgB,CAEhB;AACD,GAHU,EAGR,EAHQ,CAAT;;AAKF,QAAMC,SAAS,GAAIC,KAAD,IAAW;AAC3BA,IAAAA,KAAK,CAACC,cAAN;AACA,UAAMC,YAAY,GAAG;AACjBd,MAAAA,IAAI,EAAEA,IADW;AAEjBE,MAAAA,MAAM,EAAEA;AAFS,KAArB;AAKEN,IAAAA,aAAa,CACZmB,MADD,CACQD,YADR,EAECL,IAFD,CAEMO,cAAc,IAAI;AACpBjB,MAAAA,OAAO,CAACD,IAAI,CAACmB,MAAL,CAAYD,cAAZ,CAAD,CAAP;AACAf,MAAAA,OAAO,CAAC,EAAD,CAAP;AACH,KALD;AAOH,GAdD;;AAgBA,QAAMiB,YAAY,GAAIC,CAAD,IAAO;AACxBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AAEFvB,IAAAA,aAAa,CACZ0B,MADD,CACQH,CAAC,CAACI,MAAF,CAASC,EADjB,EAECf,IAFD;AAGAb,IAAAA,aAAa,CAACY,MAAd;AACD,GAPD;;AASA,QAAMiB,YAAY,GAAG,YAAY;AAC/B,UAAMC,WAAW,GAAG5B,IAAI,CAAC6B,IAAL,CAAUC,MAAM,IAAIA,MAAM,CAAC5B,IAAP,KAAgBA,IAApC,CAApB;;AACA,QAAI0B,WAAJ,EAAiB;AACf,YAAMjC,KAAK,CAACoC,GAAN,CAAW,gBAAeH,WAAW,CAACF,EAAG,EAAzC,EAA4C;AAChDxB,QAAAA,IADgD;AAEhDE,QAAAA;AAFgD,OAA5C,CAAN;AAID,KALD,MAKO;AACL,YAAMT,KAAK,CAACqC,IAAN,CAAW,cAAX,EAA2B;AAC/B9B,QAAAA,IAD+B;AAE/BE,QAAAA;AAF+B,OAA3B,CAAN;AAID;;AACD6B,IAAAA,KAAK;AACN,GAdD;;AAgBA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,oBAAC,YAAD;AAAc,IAAA,OAAO,EAAEzB,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGR,IAAI,CAACkC,GAAL,CAAUC,IAAD,iBACR;AAAI,IAAA,GAAG,EAAEA,IAAI,CAACT,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAoBS,IAAI,CAACT,EAAzB,OAA8BS,IAAI,CAACjC,IAAnC,OAA0CiC,IAAI,CAAC/B,MAA/C,oBAAuD;AAAQ,IAAA,EAAE,EAAE+B,IAAI,CAACT,EAAjB;AAAqB,IAAA,OAAO,EAAE,MAAM5B,aAAa,CAAC0B,MAAd,CAAqBW,IAAI,CAACT,EAA1B,CAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAvD,CADD,CADH,CAHF,eASE;AAAM,IAAA,QAAQ,EAAEC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,QAAQ,EAAGN,CAAD,IAAOlB,OAAO,CAACkB,CAAC,CAACI,MAAF,CAASW,KAAV,CAA/B;AAAiD,IAAA,IAAI,EAAC,MAAtD;AAA6D,IAAA,WAAW,EAAC,MAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAO,IAAA,QAAQ,EAAGf,CAAD,IAAOhB,SAAS,CAACgB,CAAC,CAACI,MAAF,CAASW,KAAV,CAAjC;AAAmD,IAAA,IAAI,EAAC,MAAxD;AAA+D,IAAA,WAAW,EAAC,QAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF,CATF,CADF;AAiBD;;AAED,eAAerC,SAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport Notification from './components/Notification'\r\nimport Person from './components/Person'\r\nimport personService from './services/persons'\r\n\r\n\r\nfunction Phonebook() {\r\n  const [book, setBook] = useState([]);\r\n  const [name, setName] = useState();\r\n  const [number, setNumber] = useState();\r\n  const [showAll, setShowAll] = useState(true)\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n\r\n    useEffect(() => {\r\n    personService.getAll().then(initialPersons => setBook(initialPersons))\r\n    // fetch();\r\n  }, [])\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const personObject = {\r\n        name: name,\r\n        number: number,\r\n      }\r\n\r\n      personService\r\n      .create(personObject)\r\n      .then(returnedPerson => {\r\n          setBook(book.concat(returnedPerson))\r\n          setName('')\r\n      })\r\n    \r\n  }\r\n  \r\n  const handleDelete = (e) => {\r\n      console.log(e)\r\n\r\n    personService\r\n    .remove(e.target.id)\r\n    .then()\r\n    personService.getAll();\r\n  }\r\n\r\n  const handleSubmit = async () => {\r\n    const checkPerson = book.find(person => person.name === name)\r\n    if (checkPerson) {\r\n      await axios.put(`/api/persons/${checkPerson.id}`, {\r\n        name, \r\n        number\r\n      })\r\n    } else {\r\n      await axios.post('/api/persons', {\r\n        name, \r\n        number\r\n      })\r\n    }\r\n    fetch();\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>Phone Book</h1>\r\n      <Notification message={errorMessage} />\r\n      <ul>\r\n        {book.map((item) => \r\n          <li key={item.id}> {item.id} {item.name} {item.number} <button id={item.id} onClick={() => personService.remove(item.id)}>delete</button></li>\r\n        )}\r\n      </ul>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <input onChange={(e) => setName(e.target.value)} type='text' placeholder='name'/>\r\n        <input onChange={(e) => setNumber(e.target.value)} type='text' placeholder='number'/>\r\n        <button type='submit'>Submit</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Phonebook;"]},"metadata":{},"sourceType":"module"}