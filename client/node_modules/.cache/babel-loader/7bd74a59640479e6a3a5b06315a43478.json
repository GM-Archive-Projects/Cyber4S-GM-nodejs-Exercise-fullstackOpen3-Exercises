{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Gal\\\\Documents\\\\GitHub\\\\fullstackOpen3-Exercises\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Notification from'./components/Notification';import personService from'./services/persons';function Phonebook(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),book=_useState2[0],setBook=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),number=_useState6[0],setNumber=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),errorMessage=_useState8[0],setErrorMessage=_useState8[1];var fetch=function fetch(){personService.getAll().then(function(initialPersons){return setBook(initialPersons);});};useEffect(function(){fetch();},[]);var addPerson=function addPerson(event){event.preventDefault();var personObject={name:name,number:number};personService.create(personObject).then(function(returnedPerson){setBook(book.concat(returnedPerson));setName('');});};var handleDelete=function handleDelete(e){personService.remove(e.target.id).then(function(){return fetch();});};//   const handleSubmit = async () => {\n//     const checkPerson = book.find(person => person.name === name)\n//     if (checkPerson) {\n//         personService.update(checkPerson.id, {name, number}).then(() => fetch())\n//     } else {\n//         personService.create({name, number}).then(() => fetch())\n//     }\n//   }\nreturn/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Phone Book\"),/*#__PURE__*/React.createElement(Notification,{message:errorMessage}),/*#__PURE__*/React.createElement(\"ul\",null,book.map(function(item){return/*#__PURE__*/React.createElement(\"li\",{key:item.id},\" \",item.id,\" \",item.name,\" \",item.number,\" \",/*#__PURE__*/React.createElement(\"button\",{id:item.id,onClick:handleDelete},\"delete\"));})),/*#__PURE__*/React.createElement(\"form\",{onSubmit:addPerson},/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(e){return setName(e.target.value);},type:\"text\",placeholder:\"name\"}),/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(e){return setNumber(e.target.value);},type:\"text\",placeholder:\"number\"}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Submit\")));}export default Phonebook;","map":{"version":3,"sources":["C:/Users/Gal/Documents/GitHub/fullstackOpen3-Exercises/client/src/Phonebook.js"],"names":["React","useEffect","useState","Notification","personService","Phonebook","book","setBook","name","setName","number","setNumber","errorMessage","setErrorMessage","fetch","getAll","then","initialPersons","addPerson","event","preventDefault","personObject","create","returnedPerson","concat","handleDelete","e","remove","target","id","map","item","value"],"mappings":"+LAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,YAAP,KAAyB,2BAAzB,CACA,MAAOC,CAAAA,aAAP,KAA0B,oBAA1B,CAGA,QAASC,CAAAA,SAAT,EAAqB,eACKH,QAAQ,CAAC,EAAD,CADb,wCACZI,IADY,eACNC,OADM,8BAEKL,QAAQ,EAFb,yCAEZM,IAFY,eAENC,OAFM,8BAGSP,QAAQ,EAHjB,yCAGZQ,MAHY,eAGJC,SAHI,8BAKqBT,QAAQ,CAAC,IAAD,CAL7B,yCAKZU,YALY,eAKEC,eALF,eASnB,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAChBV,aAAa,CAACW,MAAd,GAAuBC,IAAvB,CAA4B,SAAAC,cAAc,QAAIV,CAAAA,OAAO,CAACU,cAAD,CAAX,EAA1C,EACH,CAFD,CAGEhB,SAAS,CAAC,UAAM,CAChBa,KAAK,GACN,CAFU,CAER,EAFQ,CAAT,CAIF,GAAMI,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAW,CAC3BA,KAAK,CAACC,cAAN,GACA,GAAMC,CAAAA,YAAY,CAAG,CACjBb,IAAI,CAAEA,IADW,CAEjBE,MAAM,CAAEA,MAFS,CAArB,CAKEN,aAAa,CACZkB,MADD,CACQD,YADR,EAECL,IAFD,CAEM,SAAAO,cAAc,CAAI,CACpBhB,OAAO,CAACD,IAAI,CAACkB,MAAL,CAAYD,cAAZ,CAAD,CAAP,CACAd,OAAO,CAAC,EAAD,CAAP,CACH,CALD,EAOH,CAdD,CAkBA,GAAMgB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CACpBtB,aAAa,CACZuB,MADD,CACQD,CAAC,CAACE,MAAF,CAASC,EADjB,EACqBb,IADrB,CAC0B,iBAAMF,CAAAA,KAAK,EAAX,EAD1B,EAEP,CAHD,CAKF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEE,mBACE,2BAAK,SAAS,CAAC,KAAf,eACE,2CADF,cAEE,oBAAC,YAAD,EAAc,OAAO,CAAEF,YAAvB,EAFF,cAGE,8BACGN,IAAI,CAACwB,GAAL,CAAS,SAACC,IAAD,qBACR,0BAAI,GAAG,CAAEA,IAAI,CAACF,EAAd,MAAoBE,IAAI,CAACF,EAAzB,KAA8BE,IAAI,CAACvB,IAAnC,KAA0CuB,IAAI,CAACrB,MAA/C,kBAAuD,8BAAQ,EAAE,CAAEqB,IAAI,CAACF,EAAjB,CAAqB,OAAO,CAAEJ,YAA9B,WAAvD,CADQ,EAAT,CADH,CAHF,cASE,4BAAM,QAAQ,CAAEP,SAAhB,eACE,6BAAO,QAAQ,CAAE,kBAACQ,CAAD,QAAOjB,CAAAA,OAAO,CAACiB,CAAC,CAACE,MAAF,CAASI,KAAV,CAAd,EAAjB,CAAiD,IAAI,CAAC,MAAtD,CAA6D,WAAW,CAAC,MAAzE,EADF,cAEE,6BAAO,QAAQ,CAAE,kBAACN,CAAD,QAAOf,CAAAA,SAAS,CAACe,CAAC,CAACE,MAAF,CAASI,KAAV,CAAhB,EAAjB,CAAmD,IAAI,CAAC,MAAxD,CAA+D,WAAW,CAAC,QAA3E,EAFF,cAGE,8BAAQ,IAAI,CAAC,QAAb,WAHF,CATF,CADF,CAiBD,CAED,cAAe3B,CAAAA,SAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Notification from './components/Notification'\r\nimport personService from './services/persons'\r\n\r\n\r\nfunction Phonebook() {\r\n  const [book, setBook] = useState([]);\r\n  const [name, setName] = useState();\r\n  const [number, setNumber] = useState();\r\n\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n\r\n\r\n  const fetch = () => {\r\n      personService.getAll().then(initialPersons => setBook(initialPersons))\r\n  }\r\n    useEffect(() => {\r\n    fetch();\r\n  }, [])\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const personObject = {\r\n        name: name,\r\n        number: number,\r\n      }\r\n\r\n      personService\r\n      .create(personObject)\r\n      .then(returnedPerson => {\r\n          setBook(book.concat(returnedPerson))\r\n          setName('')\r\n      })\r\n    \r\n  }\r\n  \r\n\r\n\r\n  const handleDelete = (e) => {\r\n          personService\r\n          .remove(e.target.id).then(() => fetch())\r\n  }\r\n\r\n//   const handleSubmit = async () => {\r\n//     const checkPerson = book.find(person => person.name === name)\r\n//     if (checkPerson) {\r\n//         personService.update(checkPerson.id, {name, number}).then(() => fetch())\r\n//     } else {\r\n//         personService.create({name, number}).then(() => fetch())\r\n//     }\r\n//   }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>Phone Book</h1>\r\n      <Notification message={errorMessage} />\r\n      <ul>\r\n        {book.map((item) => \r\n          <li key={item.id}> {item.id} {item.name} {item.number} <button id={item.id} onClick={handleDelete}>delete</button></li>\r\n        )}\r\n      </ul>\r\n\r\n      <form onSubmit={addPerson}>\r\n        <input onChange={(e) => setName(e.target.value)} type='text' placeholder='name'/>\r\n        <input onChange={(e) => setNumber(e.target.value)} type='text' placeholder='number'/>\r\n        <button type='submit'>Submit</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Phonebook;"]},"metadata":{},"sourceType":"module"}