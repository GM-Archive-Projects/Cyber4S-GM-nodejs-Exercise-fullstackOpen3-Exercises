{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gal\\\\Documents\\\\GitHub\\\\fullstackOpen3-Exercises\\\\client\\\\src\\\\Phonebook.js\";\nimport React, { useEffect, useState } from 'react';\nimport Notification from './components/Notification';\nimport personService from './services/persons';\n\nfunction Phonebook() {\n  const [book, setBook] = useState([]);\n  const [name, setName] = useState();\n  const [number, setNumber] = useState();\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  const fetch = () => {\n    personService.getAll().then(initialPersons => setBook(initialPersons));\n  };\n\n  useEffect(() => {\n    fetch();\n  }, []);\n\n  const addPerson = event => {\n    event.preventDefault();\n    const personObject = {\n      name: name,\n      number: number\n    };\n    personService.create(personObject).then(returnedPerson => {\n      setBook(book.concat(returnedPerson));\n      setName('');\n    });\n  };\n\n  const handleDelete = e => {\n    personService.remove(e.target.id).then(() => fetch());\n  }; //   const handleSubmit = async () => {\n  //     const checkPerson = book.find(person => person.name === name)\n  //     if (checkPerson) {\n  //         personService.update(checkPerson.id, {name, number}).then(() => fetch())\n  //     } else {\n  //         personService.create({name, number}).then(() => fetch())\n  //     }\n  //   }\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, \"Phone Book\"), /*#__PURE__*/React.createElement(Notification, {\n    message: errorMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, book.map(item => /*#__PURE__*/React.createElement(\"li\", {\n    key: item.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, \" \", item.id, \" \", item.name, \" \", item.number, \" \", /*#__PURE__*/React.createElement(\"button\", {\n    id: item.id,\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 66\n    }\n  }, \"delete\")))), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: addPerson,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setName(e.target.value),\n    type: \"text\",\n    placeholder: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setNumber(e.target.value),\n    type: \"text\",\n    placeholder: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, \"Submit\")));\n}\n\nexport default Phonebook;","map":{"version":3,"sources":["C:/Users/Gal/Documents/GitHub/fullstackOpen3-Exercises/client/src/Phonebook.js"],"names":["React","useEffect","useState","Notification","personService","Phonebook","book","setBook","name","setName","number","setNumber","errorMessage","setErrorMessage","fetch","getAll","then","initialPersons","addPerson","event","preventDefault","personObject","create","returnedPerson","concat","handleDelete","e","remove","target","id","map","item","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Notification from './components/Notification'\r\nimport personService from './services/persons'\r\n\r\n\r\nfunction Phonebook() {\r\n  const [book, setBook] = useState([]);\r\n  const [name, setName] = useState();\r\n  const [number, setNumber] = useState();\r\n\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n\r\n\r\n  const fetch = () => {\r\n      personService.getAll().then(initialPersons => setBook(initialPersons))\r\n  }\r\n    useEffect(() => {\r\n    fetch();\r\n  }, [])\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const personObject = {\r\n        name: name,\r\n        number: number,\r\n      }\r\n\r\n      personService\r\n      .create(personObject)\r\n      .then(returnedPerson => {\r\n          setBook(book.concat(returnedPerson))\r\n          setName('')\r\n      })\r\n    \r\n  }\r\n  \r\n\r\n\r\n  const handleDelete = (e) => {\r\n          personService\r\n          .remove(e.target.id).then(() => fetch())\r\n  }\r\n\r\n//   const handleSubmit = async () => {\r\n//     const checkPerson = book.find(person => person.name === name)\r\n//     if (checkPerson) {\r\n//         personService.update(checkPerson.id, {name, number}).then(() => fetch())\r\n//     } else {\r\n//         personService.create({name, number}).then(() => fetch())\r\n//     }\r\n//   }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>Phone Book</h1>\r\n      <Notification message={errorMessage} />\r\n      <ul>\r\n        {book.map((item) => \r\n          <li key={item.id}> {item.id} {item.name} {item.number} <button id={item.id} onClick={handleDelete}>delete</button></li>\r\n        )}\r\n      </ul>\r\n\r\n      <form onSubmit={addPerson}>\r\n        <input onChange={(e) => setName(e.target.value)} type='text' placeholder='name'/>\r\n        <input onChange={(e) => setNumber(e.target.value)} type='text' placeholder='number'/>\r\n        <button type='submit'>Submit</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Phonebook;"]},"metadata":{},"sourceType":"module"}